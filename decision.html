<!DOCTYPE html>
<html>

<head>

	<title>Magic 8 Ball: Decisions, Decisions</title>
	<link rel="stylesheet" type="text/css" href="main.css">

	<script type="text/javascript">
		var hasExplained = false

		var makeDecision = function() {

			//clear the explanation, if populated
			document.getElementById("decExplanation").innerHTML = ""
			document.getElementById("decAnswer").innerHTML = ""

			var choiceA = document.getElementsByName("optionA")[0].value
			var choiceB = document.getElementsByName("optionB")[0].value

			if (choiceA == "" || choiceB == "") {
				alert("You must give me options to work with!")
				return;
			}

			//make a choice
			var choice
			if (myRandom(2) == 0) {
				choice = choiceA
			} else {
				choice = choiceB
			}
			//console.log(choice)

			//populate the "Answer" division
			var inner = "<h2>Answer:</h2>" +
			"<p>" + choice + "</p>" +
			"<div class=\"round-button\" onclick=\"giveReason(\'"+choice+"\')\"><p>Ask me why</p></div>"
			//console.log(inner)

			document.getElementById("decAnswer").innerHTML = inner

			hasExplained = false;
		}

		var giveReason = function(choice) {

			//check if an explanation has already been given
			if (hasExplained == true) {
				alert("You have your answer! Do not question the magic of the great oracle!")
				return
			}

			//handle undefined argument
			if (choice === undefined) {
				choice = "My answer"
			}

			//list of possible explanations, to be expanded as I please
			var manyExplanations = [
			"\"" + choice + "\" is clearly the better answer.  I don't feel like I need to say more.",
			"Nietzsche wrote: \"One no longer loves one's insight enough once one communicates it.\"  Ergo, \"" + choice + "\" is the correct answer.  Don't argue with Nietzsche, he's a philosopher.  Also, he's dead so you can't really...",
			"Did you know that the platypus is a \"monotreme\"?  Thats Greek for \"wierdo.\"  Or maybe it was Farsi for \"egg-laying mammal...\"  Either way, the platypus is also \"venemous,\" which is Russian for \"extremely playful.\"  Seriously, <a href=\"https://en.wikipedia.org/wiki/Platypus\">check<a> it out! Really makes you think differently...\n\n...anyhow, to make a long story short: \"" + choice + ".\"",
			"<a href=\"https://xkcd.com/1240/\">Quantum tunneling</a> is responsible for a lot of wierd stuff.  Schrodinger's cat, the Kennedy assasination, crop circles...I believe I've made my point.  Go with \"" + choice + ".\"",
			"It actually has to do with the phases of the <a href=\"https://xkcd.com/1738/\">moon</a>.",
			"\"<a href=\"https://plato.stanford.edu/entries/metaphysics/\">Metaphysics</a>\"",
			"Have you ever heard of flipping a coin?  Haha, well, we \"definately\" didn't do that!",
			"There is a <a href=\"https://xkcd.com/221/\">random number generation<a> seed somewhere that holds the answer you seek... just kidding, it was MAGIC!",
			"We've got one of those \"Eye of Agamotto\" things?  Picked it up on discount.",
			"Well, since I can see the future, I just played out the alternative consequences and found that\"" + choice + "\" is the better option!  ...Ooo, wait. Actually, are you into brown or blonde hair?"
			]

			//choose an explanation
			var theExplanation = manyExplanations[myRandom(manyExplanations.length)]
			//console.log(theExplanation)
			
			//populate the Explanation div
			document.getElementById("decExplanation").innerHTML = "<p>" + theExplanation + "</p>";

			hasExplained = true
		}

		var myRandom = function(i) {
			var x = Math.floor((Math.random() * i))
			return x
		}

	</script>

</head>

<body>
	<div class="container" id="decContainer">
		<div class="header" id="decHeder"></div>

		<div class="title" id="decTitle">
			<h1>Magic 8 Ball's Decision Maker</h1>
		</div>

		<div class="explanation" id="decExplanation">
			<p>Are you one of those people who has trouble making decisions?  Well you will be glad you decided to use our decision maker!  The Magic 8 Ball will relieve you of all your decision making stress by giving you the best option based upon completely sound "reasoning" (also magic).  Don't be afraid, give it a try!  The Magic 8 Ball will not lead you astray...</p>
		</div>

		<div class="side-by-side-blocks">
			<div class="block1" id="decOptionA">
				<h2>Option A</h2>
				<input type="text" name="optionA">
			</div>

			<div class="block2" id="decOptionB">
				<h2>Option B</h2>
				<input type="text" name="optionB">
			</div>

		</div>

		<div class="round-button" onclick="makeDecision()"><p>Decide for me</p></div>

		<div class="answer" id="decAnswer">
		</div>

		<div class="explanation" id="decExplanation">
		</div>

		<div class="footer" id="decFooter">
			<p><a href="index.html">Back to Main Page</a></p>
		</div>

	</div>
</body>

</html>